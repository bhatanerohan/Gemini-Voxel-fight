*{margin:0;padding:0;box-sizing:border-box}body{overflow:hidden;background:#000;font-family:Segoe UI,sans-serif}canvas{display:block;cursor:crosshair}#hud{position:fixed;bottom:16px;left:50%;transform:translate(-50%);color:#777;font-size:12px;text-align:center;pointer-events:none}#weapon-name{position:fixed;top:16px;left:50%;transform:translate(-50%);color:#0ff;font-size:16px;font-weight:700;text-shadow:0 0 10px #0ff;pointer-events:none}#player-level{position:fixed;top:16px;right:16px;z-index:10;color:#0ff;font-size:13px;pointer-events:none;text-align:right;line-height:1.5;text-shadow:0 0 6px rgba(0,255,255,.3)}.level-label{font-weight:700;font-size:15px}.player-title{display:block;font-size:11px;color:#aef;text-transform:uppercase;letter-spacing:2px;margin-bottom:2px}.xp-bar{width:90px;height:4px;background:#ffffff1a;border-radius:2px;margin:3px 0 2px auto;overflow:hidden}.xp-fill{height:100%;background:#0ff;border-radius:2px;transition:width .3s ease-out;box-shadow:0 0 4px #0ff}.xp-text{font-size:10px;color:#668}#crosshair{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:18px;height:18px;pointer-events:none;z-index:10}#crosshair:before,#crosshair:after{content:"";position:absolute;background:var(--crosshair-color, rgba(255,255,255,.4))}#crosshair:before{width:2px;height:100%;left:50%;transform:translate(-50%)}#crosshair:after{height:2px;width:100%;top:50%;transform:translateY(-50%)}#screen-flash{position:fixed;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:50;background:#fff;opacity:0}.health-bar-container{width:40px;height:5px;background:#0009;border-radius:3px;overflow:hidden;pointer-events:none;border:1px solid rgba(255,255,255,.1)}.health-bar-fill{height:100%;background:#f34;border-radius:2px;transition:width .15s ease-out,background-color .15s}.health-bar-fill.healthy{background:#4f6}.health-bar-fill.mid{background:#fa2}.health-bar-fill.low{background:#f34}#forge-overlay{display:none;position:fixed;top:0;right:0;bottom:0;left:0;background:#000000d9;z-index:100;align-items:center;justify-content:center}#forge-overlay.open{display:flex}#forge-box{background:#111;border:1px solid #333;border-radius:12px;padding:24px;width:460px;max-width:90vw}#forge-box h2{color:#0ff;margin-bottom:12px;font-size:18px}#forge-input{width:100%;padding:10px;font-size:15px;background:#1a1a1a;border:1px solid #444;border-radius:8px;color:#fff;outline:none;resize:none;height:70px;font-family:inherit}#forge-input:focus{border-color:#0ff}#forge-btn{margin-top:10px;padding:9px 20px;font-size:14px;background:#0ff;color:#000;border:none;border-radius:8px;cursor:pointer;font-weight:700;width:100%}#forge-btn:disabled{background:#333;color:#666;cursor:wait}#forge-status{color:#888;margin-top:8px;font-size:12px}#forge-error{color:#f55;margin-top:6px;font-size:12px;white-space:pre-wrap}#api-setup{position:fixed;top:0;right:0;bottom:0;left:0;background:#000000f2;z-index:200;display:flex;align-items:center;justify-content:center}#api-setup.hidden{display:none}#api-box{background:#111;border:1px solid #333;border-radius:12px;padding:40px;width:440px;text-align:center}#api-box h2{color:#fff;margin-bottom:8px}#api-box p{color:#888;margin-bottom:15px;font-size:14px}#api-key-input{width:100%;padding:10px;font-size:14px;background:#1a1a1a;border:1px solid #444;border-radius:6px;color:#fff;outline:none;font-family:monospace}#api-key-btn{margin-top:12px;padding:10px 30px;font-size:15px;background:#0ff;color:#000;border:none;border-radius:6px;cursor:pointer;font-weight:700}#hud-top{position:fixed;top:12px;left:12px;z-index:20;display:flex;gap:18px;pointer-events:none}#hud-top>div{background:#00000080;padding:5px 12px;border-radius:4px;color:#888;font-size:12px;font-family:Courier New,monospace;border:1px solid rgba(255,255,255,.08);letter-spacing:1px}#wave-num,#score-num,#kills-num{color:#0ff;font-weight:700}#score-num.pop{animation:scorePop .3s ease-out}@keyframes scorePop{0%{transform:scale(1)}50%{transform:scale(1.4);color:#fff}to{transform:scale(1)}}#wave-announce{position:fixed;top:35%;left:50%;transform:translate(-50%,-50%);font-size:64px;font-weight:700;color:#0ff;text-shadow:0 0 30px rgba(0,255,255,.5),0 0 60px rgba(0,255,255,.2);pointer-events:none;z-index:30;opacity:0;transition:opacity .3s;font-family:Courier New,monospace;letter-spacing:6px}#wave-announce.visible{opacity:1;animation:waveIn .4s ease-out}@keyframes waveIn{0%{transform:translate(-50%,-50%) scale(2);opacity:0}to{transform:translate(-50%,-50%) scale(1);opacity:1}}#wave-clear-banner{position:fixed;top:40%;left:50%;transform:translate(-50%,-50%);font-size:36px;font-weight:700;color:#4f6;text-shadow:0 0 20px rgba(68,255,102,.5);pointer-events:none;z-index:30;opacity:0;transition:opacity .3s;font-family:Courier New,monospace}#wave-clear-banner.visible{opacity:1}#hud-center-message{position:fixed;top:45%;left:50%;transform:translate(-50%,-50%);font-size:24px;color:#fff;text-shadow:0 0 10px rgba(255,255,255,.3);pointer-events:none;z-index:30;opacity:0;transition:opacity .3s;font-family:Courier New,monospace}#hud-center-message.visible{opacity:1}.damage-number{position:fixed;pointer-events:none;z-index:25;font-size:16px;font-weight:700;font-family:Courier New,monospace;text-shadow:0 0 4px #000,0 0 8px currentColor;animation:dmgFloat .8s ease-out forwards}@keyframes dmgFloat{0%{opacity:1;transform:translateY(0) scale(1)}to{opacity:0;transform:translateY(-40px) scale(.7)}}#weapon-slots{position:fixed;bottom:80px;left:50%;transform:translate(-50%);display:flex;gap:6px;z-index:20;pointer-events:none}.weapon-slot{width:80px;height:36px;background:#0009;border:1px solid rgba(255,255,255,.15);border-radius:6px;display:flex;align-items:center;padding:0 8px;gap:6px;transition:border-color .2s,background .2s}.weapon-slot.active{border-color:#0ff;background:#00ffff1a;box-shadow:0 0 8px #00ffff4d}.weapon-slot.occupied{border-color:#ffffff4d}.slot-key{color:#666;font-size:11px;font-weight:700;font-family:monospace;min-width:12px}.weapon-slot.active .slot-key{color:#0ff}.slot-name{color:#888;font-size:10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1}.weapon-slot.active .slot-name{color:#fff}.weapon-slot.occupied .slot-name{color:#ccc}#player-health{position:fixed;bottom:50px;left:50%;transform:translate(-50%);width:220px;height:14px;background:#000000b3;border:1px solid rgba(255,255,255,.15);border-radius:7px;overflow:hidden;z-index:20}#player-health-fill{height:100%;width:100%;background:#4f6;border-radius:6px;transition:width .2s ease-out,background-color .2s}#player-health-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:10px;font-weight:700;text-shadow:0 0 4px #000;pointer-events:none}#game-over-overlay{display:none;position:fixed;top:0;right:0;bottom:0;left:0;z-index:150;background:#000000d9;align-items:center;justify-content:center}#game-over-overlay.active{display:flex}#game-over-box{text-align:center;color:#fff}#game-over-box h1{font-size:48px;color:#f34;text-shadow:0 0 20px #ff3344;margin-bottom:16px}#game-over-box p{font-size:18px;margin-bottom:20px;color:#aaa}#restart-btn{padding:12px 32px;font-size:16px;background:#0ff;color:#000;border:none;border-radius:8px;cursor:pointer;font-weight:700}#restart-btn:hover{background:#0dd}.forge-loading{color:#0ff;font-size:13px}.forge-loading .dots:after{content:"";animation:forgeDots 1.5s infinite}@keyframes forgeDots{0%{content:""}25%{content:"."}50%{content:".."}75%{content:"..."}}.forge-success{color:#4f6;font-size:13px;font-weight:700;animation:forgeSuccessPulse .5s ease-out}@keyframes forgeSuccessPulse{0%{transform:scale(1.3);opacity:.5}to{transform:scale(1);opacity:1}}.forge-fail{color:#f44;font-size:13px}#forge-overlay.open{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}#forge-box{animation:forgeBoxIn .3s ease-out}@keyframes forgeBoxIn{0%{transform:scale(.9) translateY(20px);opacity:0}to{transform:scale(1) translateY(0);opacity:1}}
